define("trace",["module","scalejs!core","browser"],function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;d=b.browser,s=function(a,b){return null==a&&(a=""),a.replace(/{([\da-z_]*)}/gi,function(a,c){return null!=b[c]?b[c]:a})},n=function(a){return 0===a.indexOf("rgb")?(a=a.match(/([0-9]+)(?=[,])/g),{r:a[0],g:a[1],b:a[2]}):(0===a.indexOf("#")&&(a=a.substring(1)),{r:parseInt(a.substring(0,2),16),g:parseInt(a.substring(2,4),16),b:parseInt(a.substring(4,6),16)})},r=function(a,b,c,d){var e;return e=new Image,e.onload=function(){var a,f,g,h,i,j;for(a=document.createElement("canvas"),a.getContext&&a.getContext("2d")||d(),a.width=e.width,a.height=e.height,f=a.getContext("2d"),f.drawImage(e,0,0),h=f.getImageData(0,0,a.width,a.height),g=h.data,i=n(b),j=0;j<g.length;)0===g[j]&&0===g[j+1]&&0===g[j+2]&&0!==g[j+3]&&(g[j]=i.r,g[j+1]=i.g,g[j+2]=i.b),j+=4;return f.putImageData(h,0,0),c(a.toDataURL())},e.src=a},q=function(){switch(!1){case!d.chrome:return function(){var a,b,c,d,e,f;return f=(new Error).stack.split("\n")[4],d=f.split(":"),d=d[d.length-2],c=f.indexOf(" ("),c>-1?(b=f.substring(f.indexOf("at ")+3,c),b=b.substring(b.lastIndexOf(" ")+1)):b="global",e=f.indexOf("/"),e>-1?(a=f.substring(f.lastIndexOf("/")+1),a=a.substring(0,a.indexOf(":"))):a="console",{func:b,file:a,line:d}};case!(d.safari||d.firefox):return function(){var a,b,c,d;return d=(new Error).stack.split("\n")[3],c=d.split(":"),c=c[c.length-2],b=d.substring(0,d.indexOf("@")),a=d.substring(d.lastIndexOf("/")+1),a=a.substring(0,a.indexOf(":")),{func:b,file:a,line:c}};case!d.msie:return function(){return{func:"unknown",file:"not implemented",line:-1}};default:return function(){return{func:"unknown",file:"unsupported",line:-1}}}}(),c={SEVERE:{color:"#C0392B",level:0,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAldJREFUWAm9l7svREEYxZd4hIhIbEGv0KxaKdGQiNofoNCIVkGvUqgUEtGtgkKBxCMKCY2/QC90JOKVeJzf7s41d+a+9rrrJCcz880353z77dx1lUp1dGm4FTfEabFHLBpooo0HXngG6Nfs2+KL5ofiojgi5gVn0UALTdsDzwBuAXYi86zdcT+lq2OvawW0NUqgHe9BOcmTV21fiEcNaqi1lvZOiBSRBd1K+rATR7VYFq/FL9Gutog5mmjjgVcihrW7IB6LdCZvAZxFAy00E7Gm3SWx7GTxXc2JVfFJTCuGHHI5E7poWqONB14ethRBnO9lX5wVO0Qb3JUpcVO8E00xzImxR44NNNBCE23O4OVhVREjaMYHxdbFipddKnGBxxs0l9lOG9OCs2gYPTPi5YGWmYSo8Ub7PNOD3snfAHvkkBulYWJ4eagoYhKSRi7Wnjgj0l7InFjWC4uXh05F3sQkc3fvXvnQjSet8cArEleKJh0uYg+PAO3BrD65dNatWIY83ALOW+HoaCZ69CqZ3/oiWh2lgTYeAdwO8CfzLNgtfoI2HgHcAtjgcWoVMmkPyL3ZxzGq3W4MTbRDiOrAozIOQlnFLNBEO4SoAkiohrKKWTSl2SfPZ9FtY941Wmh6iOsAB7a97PwBtNBsCkPKzvICktYVNNDKhXmdSjNI20fjT9jR6TSTuH3O/hm8Yp2IcSZxcc64r2e5i+H3+7SJIsgN/ebndrYO8o8Ez3LcJzZxcshtCXj5XBE/RWNoRmLsRb2gKlwsJiXHq7gxZ07sX1GW226DzHPhB+oBhTC4qzBQAAAAAElFTkSuQmCC"},ERROR:{color:"#E74C3C",level:1,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAMRJREFUWAntldEOwyAIRdtl/y378k0ebmJsV7wI8UUTiw/AObFGj8MepaZ8nVPs9s8ZM3BIuyUi4G6JSDgtkQEflsiEmxIsvD++AIzEy8Fk4Qrpxwi4zRE08MAjBLSHnPVz1wxyT1Fr2+Hq82o7rFhvgb0DeweW78DMRRRybSzfgS3wnviRYY+RTEjMln7QoNSFPqfMRC0iU6u5gkLEUhdME9QhMrWCoj6yEgwUuX/hkMmUMOGZEsPwDAkaHinhhkdImPAfT2RuwuaH2RgAAAAASUVORK5CYII="},WARN:{color:"#F39C12",level:2,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAkpJREFUWAnFl7tOW1EQRYEIhEiACCqaNIgyjfkECn6Agg+gSGMqnlIe8j8kUur06UEUfAAFZRQhikTKg4chFJHSRGGv2CNtru+xHefey5aGmXNmz56ZA0YwNDQ4nqp0T7YvI64UE+p2JfvTNmLuKsOGOkXz8JtVdX+oRmc5A5zrjlzpYNPYOuu3yu7OhmwajQ8VY3Eu/RXYMJrhl9vmd6W9Attf2ADHigPEMQScR5Eo0m9bE5qtmjhxDICHWyjYyLc/1fmBdSDmLoYo/BV2TJwmz2RZcBcD4KkpBGx/KQvx74rHc5S5Ixc8aqj9b+xKIUTxnEFNdtA2YpDitrIDfM1ufyON6bZOUz4GIwbk4MQ9rzApS2IkmWkl6nKzxnmrmAZgtOXuxOTgBKhFYyAweVMW2/xSPGdKHyxHHIADN+rQQCsX3V6grooZq3qn+JudvyZiOHADaKzHoV/PxEweW/xWvJAppknkvSE0uNREHq0pWQdGOm5aF0zs27/X+STD/WJnj7mGS03gn16BSa9kMT1+MZTM141DnAU1roEm2j3xXAwv5LM+KKh1rRe9hPK2X+pV1CVPrQ/Q8xWY0AuOuojXlGNDjDgFNFzzZYrIbzEmdPJKiqz7pnGJU0DDNa91jt+md2qYzIkfdU59SijsdwA00HLtVwg4mIjJnLTmhJy4328BpWi5dscrMJET+FyPyYoCWmh6D3r+Rd72ZfyTkf1z/oe6P2aChswnqzJuDKv5J9kT2X3gc7ef8soGmlen17Kfsqqen15vZPO3plMi6cExu04AAAAASUVORK5CYII="},INFO:{color:"#3498DB",level:3,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYlJREFUWAnFlzFOwzAYhVsQQqyVOiAhZgQLp+AGvQoH4BZMiGsw9gBsdO3UCYkRITLA+9L8Veo61H8T7Ce92In9v/eUpok9HqVjqqk34nXTWh+FhfjW0PrvDAyBS4k8iT9OUkPtwThT5YP4JXrNbT61aKDlwpVmc0tNqG+LFppJuNWsD7GvaViPJtp/4lyjKzEsHuocbTyiONbVuZhqFoqk1uGB1w7udSVVhHkhPLV4beFCZ5+iR2RLwFmLF54bPKrnMe97B6jHs8ZExz7/dW9wm4/n5EiHmXgq5gaeMwLc5XZu+dXeS12w25K7XY5l/i2etFLt61ITA+G9qBDzFg4ZYMQz4IX9TN666HwCVNGRPBcrAvCBKIUVAV5LueNNgJeCAWrvQ1/FYW57OFPbzauYlcpzqJbhHE+8axT/HJMidUGyjtx9TPkJdhYkyKUuybqt1yP7Aswbr6hO0UWpJSq6LLcQRTcmFqLo1sxC0P7r5rTr294OYP2pOrYlp7U+4wuR/R+0ftL2/BfozNBvModPTAAAAABJRU5ErkJggg=="},SYSTEM:{color:"#9B59B6",level:4,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAoNJREFUWAnll7FLW1EYxbUgiLjq2qBLQR3tZpd2dLIOrgWhUKfOgls3oX+A/g1O/QtacKiDg5ZOlaeUQtvUSUoLEnt+L98JNy/RvKgvGXrg+N177ne+774kN96MjPzvGC35Akwqb06cFxeCjMGxeBRk/Em8EO8FNN4UKXhVkuTiwXsnrMr9TSw2PpW2nuiMz5K58/FSo2+MybErutC+xr9ifqg4JQKvM0ZjDY1cPF6nFjVL4YGy9kTMv8VX4suYf1WcFg038Jw1ctDx4KUGc2pSuyfeKAPDubgoTojfRbQVMQUaTPFcEzQ8eKlBLTRq34hnWm2Il+LTyOQpMH8WiycGHaYgh1z0jVigFjWpTY+uYLeZiPG1aBxogPbCQhLRYRHkouM1qImWifTqAMfGBauO9GrDuGZ1serGrk8verawphGLWUtpDrYV0LcKuqcu6Hka8bBOjRSZJuj0zMHRWI7xh4gOD2PwxUIf0Z5awfM+5u6Zn83HIXrRnloMTiz0Ee3xQ9jqh3TPXP+rv7wsj5wV8UfofMF0Ax7YDXhY+1lYpAc6PXNwbq8rEimVBXqX+3qsbAtRuMq3gLcxRcdbwCk4jYylNDPRZwt6mak9rm2Pe7R0NvAxVp84K2IWcaagl5na4xr2uId75p+Bd7Hq3TnZu/TTWC8T7XENe9zDPXOdr8W6yGkYBOlFzxy8BX/Et83pQP7Si55tmNAsE3kFhvLvWH3zy0JDcSgXEjYAbrqScd1K4c9LqnFtQ7/VlYxCfCaGeillE1yhd0Q/4UCv5WzAuO6HyZkS1kVvkDHn3XPHW/8wUa0WJjXiDnchunCvSC4evD0x2jOjmUCxOXFevNcfp/8A6uxI68d+lSQAAAAASUVORK5CYII="},DEBUG:{color:"#27AE60",level:5,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAjhJREFUWAnFl7tO3EAUhhdQSmokJBKogIqGB5iCNmnS0gMPxAsgJCh4BArTkYoK0UTpcilTRaLg8n/mHK89O+M1xia/dObMuf6HGe96mUym2JhuW3fLin6RHEu+m7DHR6wLZri+qepJsjWn+pPifyyX/FiIkdMGOKiDc7LIIvx4UZNgOqU+yHkhWUkFzUeMHHJzCBYoOX2AwpweNLOhDmTtNjxpgxxycwgWKOoJmzI4lt91Z7S/sZz42FM2uTnAQQ2cDfySRSD3HNxbPEUY+8hNwe8frhJ+BRhXL67sc/DX4l1ULjdYsXNVDyH+woJBmsFiubN4F0VuXI8drLgw3VD+HMTHOYY9c/8+yU9tHiJ56wBxPzg6Y1WZ3GffIailR2+cqLIvudfRoxfWVcXxeaO+mh70SoInM4d9BdriubrYTw96JdFGsJes6Ofs1Ys3W99jj+volcSCvCT/N7RdwbsMxQCcQkqqF8YAk9ArxbHQdgK3AxB7i2yvtgEuvXoA3bkXx8RQyLpkyC8i7wtHFv5rJf4YDWnDkYT/WoGs/gZ7K3mqF1wl6s9AMN+59FJNPmv/aLHXKGqorfeiNwjlGi0E+WsPIj/mV8k/SdfTIJeaGPSmhw/SiPv9bza8U2Nb22vJvCHIITcFelMPVwNbsgjM+/LhynYkR5JTCf9cIOzxEatfq8wZwAEXnBUOtcN5VnnG28ABF5zVtAFDKMp13MU5AjR+XB8xhKJcx12cwzkrtrVqN/6m4noGLwc6AMU1QccAAAAASUVORK5CYII="},NOTE:{color:"#95A5A6",level:5,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAe9JREFUWAntVDFOw0AQNBINVNAgXgCipaWwPwA9nwAJHuBroOIJ0KaghT4p6OADVBEtBRINEgIpzFi30nLZuzj2JRISK43vvJ6d2VzsLYo8UUNmYsDlkU+r/ClzNpvtVOb95ZrfuwktNsGvEsSEQ36MB6nZEYr9m7vIoYUnFeNFyn+nQ7Fcx07dmbFIc/6QZCzaPNnAMsyjDezgXPhQY4z7o8h51QHXteRR34wzZMX8E/sLYN1kFkUf82gDQ9/AO9bdiDHTfc2dpb2B5BfA7m4sgs8txJzaxwDNiQqwokRSOFydRUKuBjRP9jF+IzPwRS9YV5rM9GXoORR004+bTI2rGOo1xm+KVnF984WXTWb6UvrnI6wVYEUncwqJODves5SRo3gVecZ0Z3MWXwE0f+JNhzhEDetDuLZaz774tG2B4q1hP/b1ugGnOMmtTL9vsLaSTPshh5U25t7ZVDurp98tKNs2zcxyWHFi6gacyUwkh4HAK+4PEnx+oiVwDXBi9jLX008LfUB4H9DBr4PHzTmhubJ3yM8devqJkKyPUOM7cQJwL3lZObZHwDnA96hTDFAlgtbKF1PnOaxYw8Y3gV6hp582Cff8RDknKoA12aKEUmjG+yxH26ZLmX40zXq0bcz5Kd0BPN574AHg/720+AHGRUFCBMvPGwAAAABJRU5ErkJggg=="},TODO:{color:"#2ECC71",level:6,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAHpJREFUWAntVdEKACEIs7j//+W7eu1BaQoDb0EPYYnNbQ4ze9f21vCC2djMJsi+f4AEEWJXKekIqACEA6WqoLfgirG63BKBzejI2UpZf6JIVwHiAxFi5yfdMx0BFYBwoFQV9Ba4DFXwFwhoFiA+oFlQKg66EyIc6DULPqi2BjrQLISlAAAAAElFTkSuQmCC"},XXX:{color:"#1ABC9C",level:6,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAMxJREFUWAljYBgFmCHwHyhES3wEaL4VzFpGGAOJBllOa/ANaAE3yBJ8DkCXo7bDwOYz0dqrhMwHOaAeiJHjHKYHJDYBxqEVDQoGQkELiwpC6kh14+CJgho8Tu/DI0cVKVjwIhsGC2p0OZg4slpK2IMnCuqB3gD5DoZhvgLxR3MBLDRoRoMKotFcQLPgJcbg0bpgUFTHo7mAmMRKMzWjuWA0F6C3ekCJDdQOAAF0OZg4RJZycnC0iFjweITaPka26gOMMxCJ8BDQcmeYAwAiO0hhDc768wAAAABJRU5ErkJggg=="},TEXT:{color:"#34495E",level:7,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAF1JREFUWAntlDEOACAIxND//1nlBTDYOFjmC5DSEGFJ4HcC4wBYLyHMl8OdnQRIB7J3WTpQIqIDpAOt3XWghYkMkQ74B8jL3etNOtDa0j/QwkSGSAf8A+Tl7H2PwAbJ0gYQVt5RuAAAAABJRU5ErkJggg=="},TRACE:{color:"#BDC3C7",level:8,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAXVJREFUWAntVqFyQjEQhA4GicWjUa3A8xP11XwC/QN8fX+ivgZEPR5bWdOZ0l1KmCO5vLuQuL6buXnJ5XZvuZeXMBj01negvgNTUBzPfiiluysFKPn3IrYVY9ewhYAHUWknxq5hCwGyA8UCLJVrJIT3y+dzBBhi/gnn2g98ArcwSPGZh2gGKhan7wWtByvS06GX4BHQIOA1ovFyRLCyFm6EgFXCVMZ1gpeqfhcCFooAhtyc7sRzoRGeX/Aj/Bs+hufM5DYTFOY5YixO/1DW41C2RnYhZojmT5gHAS/RWm6a1Ko5iJoeQImy3E8QcbY9dICvwzKzhpkgKnDDceNRADciN2SXubm9ifzkWJzOT7HLvJwXDg9ghewgYHNBpgMPV4pCxALy2A0CeBxrZnFomKtYF8EemUHA7Ar1N+nCKun5kEbEK5dXLwXwKuaVLE3DyPXq8RIMLE5/q2W75SBqegDVCij+E1rbMeIP8PAKpi0Ie47/3YFfWO+zWrE8lLIAAAAASUVORK5CYII="}},g=function(a,b){return a.length<b?a+new Array(b-a.length+1).join(" "):a.substring(0,b)},m=6,o={levels:c,options:{level:4,color:!0,lengths:{file:15,func:15,line:3},filter:function(a,b,c,d,e){var f,h,i,j,k;for(i=[],f=j=0,k=e.length;k>j;f=++j)h=e[f],"object"==typeof h&&(i.push(h),e[f]="%o");return e=e.join(" "),i.unshift(g(a.name,m)+" @"+g(b,o.options.lengths.file)+" ["+g(c,o.options.lengths.func)+"]("+g(d,o.options.lengths.line)+") "+e),i}},loaded:function(){return console.system("trace logging enabled")}},f=a.config(),b.object.merge(o,f),h=0,t=o.levels;for(j in t)p=t[j],p.icon&&p.color&&(h++,r(p.icon,p.color,function(a){return function(b){return a.coloricon=b,l()}}(p),function(a){return function(){return a.coloricon=a.icon,l()}}(p))),j.length+1>m&&(m=j.length+1);return k=0,l=function(){return k++,k===h?e():void 0},i=Function.prototype.call.bind(console.log,console),e=function(){var a,c,e,h,k,l,n,r;if(f.noConflict){r=o.levels;for(j in r)p=r[j],h=j.toLowerCase(),p.enabled||p.level<o.options.level?(k="%c  %c "+g(j.toUpperCase(),m),o.options.color?(c=p.coloricon,a="color:"+p.color):(c=p.icon,a=""),c="background:url("+c+");background-size:13px",d.firefox&&(c+=";padding-bottom:1px"),b.log[h]=console[h]=o[h]=Function.prototype.bind.call(i,console,k,c,a),"text"===h&&(b.log.log=console.log=o.log=Function.prototype.bind.call(i,console,k,c,a))):b.log[h]=console[h]=o[h]=function(){return void 0}}else{l=function(a,b){var c,e,f,g;if(!(o.options.level<a.level&&!a.enabled||a.disabled))return b=Array.prototype.slice.call(b),f=q(),g=o.options.filter(a,f.file,f.func,f.line,b),g[0]="%c  %c "+g[0],o.options.color?(g.splice(1,0,"color:"+a.color+";"),e=a.coloricon):(g.splice(1,0,""),e=a.icon),c="background:url("+e+");background-size:13px",d.firefox&&(c+=";padding-bottom:1px"),g.splice(1,0,c),i.apply(console,g)},n=o.levels;for(j in n)p=n[j],p.name=j.toUpperCase(),e=j.toLowerCase(),b.log[e]=console[e]=o[e]=function(a){return function(){return l(a,arguments)}}(p);console.log=o.text,b.log.log=o.text}return o.loaded()},b.registerExtension({trace:o})});